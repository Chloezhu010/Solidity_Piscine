# Project P03 – Mini Auction (NFT Sale)

**Level:** Intermediate  
**Estimated Time:** 4–5 days  

---

## Objective
Build an English auction for ERC721 NFTs where bidders compete until a set end time.

---

## Learning Goals
- Transfer and manage ERC721 tokens.
- Implement bidding logic with refunds.
- Secure ETH handling with pull payments.

---

## Requirements
1. **Auction Setup**
   - Seller lists NFT with:
     - NFT address + tokenId.
     - Starting price.
     - Auction duration.

2. **Bidding**
   - Bidders can place higher bids (must exceed the current highest bid).
   - Refund the previous highest bidder when outbid.
   - Track current highest bidder and bid.

3. **Finalization**
   - After the auction ends:
     - Highest bidder can claim NFT.
     - Seller can claim funds.

4. **Events**
   - `BidPlaced(address indexed bidder, uint256 amount)`
   - `AuctionEnded(address indexed winner, uint256 amount)`

---

## Deliverables
- `MiniAuction.sol`
- Tests for bidding, refunds, and claiming.
- `README.md` explaining:
  - How refunds are handled.
  - Design decisions for auction finalization.

---

## Bonus Challenges
### Gas Optimization
- Implement a **withdraw pattern** (pull over push) to save gas in refunds.

### Security
- Add a **reentrancy guard** for bid and claim functions.
- Discuss how to handle NFTs with non-standard behavior.

### Research
- Read OpenSea Seaport’s auction logic:
  - Summarize 2 key differences from your approach.
- Investigate how English auctions differ from Dutch auctions in on-chain complexity.

---

## Peer Review Defense
Be prepared to explain:
- Your refund mechanism and why it’s safe.
- How you ensure only the winner can claim the NFT.
- Gas vs security tradeoffs in your design.

---

## Resources
- [OpenZeppelin ERC721 Docs](https://docs.openzeppelin.com/contracts/4.x/erc721)  
- [Pull Payment Pattern](https://docs.openzeppelin.com/contracts/4.x/api/security#PullPayment)  
- [CryptoPunks Auction Logic](https://github.com/larvalabs/cryptopunks)  
