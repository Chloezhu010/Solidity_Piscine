# Project P07 – Lending Pool (Aave-lite)

**Level:** Advanced  
**Estimated Time:** 6–8 days  

---

## Objective
Implement a simplified lending protocol that supports deposits, borrowing, and liquidation.

---

## Learning Goals
- Understand overcollateralized lending.
- Calculate health factors and manage positions.
- Implement liquidation mechanics.

---

## Requirements
1. **Lending**
   - `deposit()` ERC20 as collateral.
   - `borrow()` another ERC20 up to an LTV ratio (e.g., 75%).

2. **Liquidation**
   - Calculate health factor.
   - Allow liquidations when HF < 1.
   - Discount for liquidators.

3. **Tracking**
   - Track positions in a `Position { collateral; debt; }` struct.
   - Integrate Chainlink oracles for pricing.

---

## Deliverables
- `LendingPool.sol`
- Tests for borrowing limits, price changes, and liquidation.
- `README.md` explaining your health factor formula and liquidation logic.

---

## Bonus Challenges
### Gas Optimization
- Cache collateral/debt values locally to reduce SLOAD calls.

### Security
- Mitigate oracle manipulation (use TWAPs or multiple feeds).
- Prevent reentrancy in liquidation.

### Research
- Read Aave V2 liquidation flow. Explain how flash loans are used in liquidations.

---

## Peer Review Defense
Be ready to explain:
- Your health factor formula.
- How you incentivize liquidators.
- Oracle attack prevention.

---

## Resources
- [Aave Docs](https://docs.aave.com/)
- [Chainlink Feeds](https://docs.chain.link/)
- [DeFi Liquidations Explained](https://blog.chain.link/defi-liquidations/)
