# Project P09 – Yield Aggregator (Yearn v1-style)

**Level:** Advanced  
**Estimated Time:** 6–8 days  

---

## Objective
Build a vault that automatically compounds yield from an external protocol.

---

## Learning Goals
- Understand vault mechanics and share-based accounting.
- Implement harvesting and reinvestment strategies.
- Manage proportional share value growth.

---

## Requirements
1. **Vault**
   - `deposit()` and `withdraw()` for ERC20.
   - Mint shares representing proportional ownership.

2. **Harvesting**
   - `harvest()` to collect rewards from an external farm.
   - Reinvest rewards into the vault.

---

## Deliverables
- `YieldAggregator.sol`
- Tests for deposits, withdrawals, and harvesting.
- `README.md` explaining compounding logic.

---

## Bonus Challenges
### Gas Optimization
- Batch multiple reward collections in one call.

### Security
- Ensure vault can't be drained by malicious tokens.
- Protect against flash-loan inflations.

### Research
- Read Yearn v1 vault code and explain how strategies are modularized.

---

## Peer Review Defense
Be ready to explain:
- Your share accounting math.
- How harvesting compounds value.
- Attack vectors (flash loans, malicious tokens).

---

## Resources
- [Yearn Vaults v1](https://docs.yearn.finance/vaults)
- [Reentrancy & Inflation Attacks](https://blog.openzeppelin.com/)
